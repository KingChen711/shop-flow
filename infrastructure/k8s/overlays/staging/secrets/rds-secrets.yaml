# RDS Secrets for Staging Environment
# NOTE: In real staging, these should be managed by:
# - AWS Secrets Manager + External Secrets Operator
# - HashiCorp Vault
# - Sealed Secrets
#
# Values below are placeholders - replace with actual RDS credentials from Terraform output
apiVersion: v1
kind: Secret
metadata:
  name: rds-secrets
  namespace: shopflow
type: Opaque
stringData:
  # User Service RDS
  USER_DATABASE_HOST: 'shopflow-user-staging.xxx.rds.amazonaws.com'
  USER_DATABASE_PORT: '5432'
  USER_DATABASE_NAME: 'user_db'

  # Product Service RDS
  PRODUCT_DATABASE_HOST: 'shopflow-product-staging.xxx.rds.amazonaws.com'
  PRODUCT_DATABASE_PORT: '5432'
  PRODUCT_DATABASE_NAME: 'product_db'

  # Order Service RDS
  ORDER_DATABASE_HOST: 'shopflow-order-staging.xxx.rds.amazonaws.com'
  ORDER_DATABASE_PORT: '5432'
  ORDER_DATABASE_NAME: 'order_db'

  # Inventory Service RDS
  INVENTORY_DATABASE_HOST: 'shopflow-inventory-staging.xxx.rds.amazonaws.com'
  INVENTORY_DATABASE_PORT: '5432'
  INVENTORY_DATABASE_NAME: 'inventory_db'

  # Payment Service RDS
  PAYMENT_DATABASE_HOST: 'shopflow-payment-staging.xxx.rds.amazonaws.com'
  PAYMENT_DATABASE_PORT: '5432'
  PAYMENT_DATABASE_NAME: 'payment_db'

  # Notification Service RDS
  NOTIFICATION_DATABASE_HOST: 'shopflow-notification-staging.xxx.rds.amazonaws.com'
  NOTIFICATION_DATABASE_PORT: '5432'
  NOTIFICATION_DATABASE_NAME: 'notification_db'
---
# Database credentials (shared across all RDS instances in staging)
apiVersion: v1
kind: Secret
metadata:
  name: database-secrets
  namespace: shopflow
type: Opaque
stringData:
  DATABASE_USER: 'shopflow_staging'
  DATABASE_PASSWORD: 'REPLACE_WITH_TERRAFORM_OUTPUT'
